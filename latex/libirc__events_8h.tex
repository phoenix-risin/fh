\hypertarget{libirc__events_8h}{
\section{include/libirc\_\-events.h File Reference}
\label{libirc__events_8h}\index{include/libirc\_\-events.h@{include/libirc\_\-events.h}}
}
\subsection*{Classes}
\begin{CompactItemize}
\item 
struct \hyperlink{structirc__callbacks__t}{irc\_\-callbacks\_\-t}
\begin{CompactList}\small\item\em Event callbacks structure. \item\end{CompactList}\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef void($\ast$ \hyperlink{libirc__events_8h_c472d3e37df8f172fed3d75e649fac14}{irc\_\-event\_\-callback\_\-t} )(\hyperlink{libircclient_8h_0030a976ab3e6a247d57e30fd5979cd5}{irc\_\-session\_\-t} $\ast$session, const char $\ast$event, const char $\ast$origin, const char $\ast$$\ast$params, unsigned int count)
\begin{CompactList}\small\item\em A most common event callback. \item\end{CompactList}\item 
typedef void($\ast$ \hyperlink{libirc__events_8h_b6000d309e87cfb727dcad0136fcb79f}{irc\_\-eventcode\_\-callback\_\-t} )(\hyperlink{libircclient_8h_0030a976ab3e6a247d57e30fd5979cd5}{irc\_\-session\_\-t} $\ast$session, unsigned int event, const char $\ast$origin, const char $\ast$$\ast$params, unsigned int count)
\begin{CompactList}\small\item\em A numeric event callback. \item\end{CompactList}\item 
typedef void($\ast$ \hyperlink{libirc__events_8h_8c3ddaa55e5ded002b5054f0b926381c}{irc\_\-event\_\-dcc\_\-chat\_\-t} )(\hyperlink{libircclient_8h_0030a976ab3e6a247d57e30fd5979cd5}{irc\_\-session\_\-t} $\ast$session, const char $\ast$nick, const char $\ast$addr, \hyperlink{libircclient_8h_4136d52803e88f369d728e1e3b0e70f7}{irc\_\-dcc\_\-t} dccid)
\begin{CompactList}\small\item\em A remote DCC CHAT request callback. \item\end{CompactList}\item 
typedef void($\ast$ \hyperlink{libirc__events_8h_5f4b1d95f2d6619041f993ba748544cf}{irc\_\-event\_\-dcc\_\-send\_\-t} )(\hyperlink{libircclient_8h_0030a976ab3e6a247d57e30fd5979cd5}{irc\_\-session\_\-t} $\ast$session, const char $\ast$nick, const char $\ast$addr, const char $\ast$filename, unsigned long size, \hyperlink{libircclient_8h_4136d52803e88f369d728e1e3b0e70f7}{irc\_\-dcc\_\-t} dccid)
\begin{CompactList}\small\item\em A remote DCC CHAT request callback. \item\end{CompactList}\end{CompactItemize}


\subsection{Typedef Documentation}
\hypertarget{libirc__events_8h_c472d3e37df8f172fed3d75e649fac14}{
\index{libirc\_\-events.h@{libirc\_\-events.h}!irc\_\-event\_\-callback\_\-t@{irc\_\-event\_\-callback\_\-t}}
\index{irc\_\-event\_\-callback\_\-t@{irc\_\-event\_\-callback\_\-t}!libirc_events.h@{libirc\_\-events.h}}
\subsubsection[irc\_\-event\_\-callback\_\-t]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf irc\_\-event\_\-callback\_\-t})({\bf irc\_\-session\_\-t} $\ast$session, const char $\ast$event, const char $\ast$origin, const char $\ast$$\ast$params, unsigned int count)}}
\label{libirc__events_8h_c472d3e37df8f172fed3d75e649fac14}


A most common event callback. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em session}]the session, which generates an event \item[{\em event}]the text name of the event. Useful in case you use a single event handler for several events simultaneously. \item[{\em origin}]the originator of the event. See the note below. \item[{\em params}]a list of event params. Depending on the event nature, it could have zero or more params. The actual number of params is specified in count. None of the params can be NULL, but 'params' pointer itself could be NULL for some events. \item[{\em count}]the total number of params supplied.\end{description}
\end{Desc}
Every event generates a callback. This callback is generated by most events. Depending on the event nature, it can provide zero or more params. For each event, the number of provided params is fixed, and their meaning is described.

Every event has origin, though the {\em origin\/} variable may be NULL, which means that event origin is unknown. The origin usually looks like nick!host@ircserver, i.e. like tim!home@irc.krasnogorsk.ru. Such origins can not be used in IRC commands, and need to be stripped (i.e. host and server part should be cut off) before using. This can be done either explicitly, by calling \hyperlink{libircclient_8h_217df7c7c7dc5e60678dd14e24e41f03}{irc\_\-target\_\-get\_\-nick()}, or implicitly for all the events - by setting the \hyperlink{libirc__options_8h_0dd67b0a5373a108d86d911fa5741e72}{LIBIRC\_\-OPTION\_\-STRIPNICKS} option with \hyperlink{libircclient_8h_c5d81f651f1441690f3f59c3ddccaa48}{irc\_\-option\_\-set()}. \hypertarget{libirc__events_8h_8c3ddaa55e5ded002b5054f0b926381c}{
\index{libirc\_\-events.h@{libirc\_\-events.h}!irc\_\-event\_\-dcc\_\-chat\_\-t@{irc\_\-event\_\-dcc\_\-chat\_\-t}}
\index{irc\_\-event\_\-dcc\_\-chat\_\-t@{irc\_\-event\_\-dcc\_\-chat\_\-t}!libirc_events.h@{libirc\_\-events.h}}
\subsubsection[irc\_\-event\_\-dcc\_\-chat\_\-t]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf irc\_\-event\_\-dcc\_\-chat\_\-t})({\bf irc\_\-session\_\-t} $\ast$session, const char $\ast$nick, const char $\ast$addr, {\bf irc\_\-dcc\_\-t} dccid)}}
\label{libirc__events_8h_8c3ddaa55e5ded002b5054f0b926381c}


A remote DCC CHAT request callback. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em session}]the session, which generates an event \item[{\em nick}]the person who requested DCC CHAT with you. \item[{\em addr}]the person's IP address in decimal-dot notation. \item[{\em dccid}]an id associated with this request. Use it in calls to \hyperlink{libircclient_8h_43f747d3b2252109f9d811ea8414745b}{irc\_\-dcc\_\-accept()} or \hyperlink{libircclient_8h_3ff4ca78d346b7acf847cf28a7211bf4}{irc\_\-dcc\_\-decline()}.\end{description}
\end{Desc}
This callback is called when someone requests DCC CHAT with you. In respond you should call either \hyperlink{libircclient_8h_43f747d3b2252109f9d811ea8414745b}{irc\_\-dcc\_\-accept()} to accept chat request, or \hyperlink{libircclient_8h_3ff4ca78d346b7acf847cf28a7211bf4}{irc\_\-dcc\_\-decline()} to decline chat request.

\begin{Desc}
\item[See also:]\hyperlink{libircclient_8h_43f747d3b2252109f9d811ea8414745b}{irc\_\-dcc\_\-accept} or \hyperlink{libircclient_8h_3ff4ca78d346b7acf847cf28a7211bf4}{irc\_\-dcc\_\-decline} \end{Desc}
\hypertarget{libirc__events_8h_5f4b1d95f2d6619041f993ba748544cf}{
\index{libirc\_\-events.h@{libirc\_\-events.h}!irc\_\-event\_\-dcc\_\-send\_\-t@{irc\_\-event\_\-dcc\_\-send\_\-t}}
\index{irc\_\-event\_\-dcc\_\-send\_\-t@{irc\_\-event\_\-dcc\_\-send\_\-t}!libirc_events.h@{libirc\_\-events.h}}
\subsubsection[irc\_\-event\_\-dcc\_\-send\_\-t]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf irc\_\-event\_\-dcc\_\-send\_\-t})({\bf irc\_\-session\_\-t} $\ast$session, const char $\ast$nick, const char $\ast$addr, const char $\ast$filename, unsigned long size, {\bf irc\_\-dcc\_\-t} dccid)}}
\label{libirc__events_8h_5f4b1d95f2d6619041f993ba748544cf}


A remote DCC CHAT request callback. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em session}]the session, which generates an event \item[{\em nick}]the person who requested DCC CHAT with you. \item[{\em addr}]the person's IP address in decimal-dot notation. \item[{\em filename}]the sent filename. \item[{\em size}]the filename size. \item[{\em dccid}]an id associated with this request. Use it in calls to \hyperlink{libircclient_8h_43f747d3b2252109f9d811ea8414745b}{irc\_\-dcc\_\-accept()} or \hyperlink{libircclient_8h_3ff4ca78d346b7acf847cf28a7211bf4}{irc\_\-dcc\_\-decline()}.\end{description}
\end{Desc}
This callback is called when someone wants to send a file to you using DCC SEND. As with chat, in respond you should call either \hyperlink{libircclient_8h_43f747d3b2252109f9d811ea8414745b}{irc\_\-dcc\_\-accept()} to accept this request and receive the file, or \hyperlink{libircclient_8h_3ff4ca78d346b7acf847cf28a7211bf4}{irc\_\-dcc\_\-decline()} to decline this request.

\begin{Desc}
\item[See also:]\hyperlink{libircclient_8h_43f747d3b2252109f9d811ea8414745b}{irc\_\-dcc\_\-accept} or \hyperlink{libircclient_8h_3ff4ca78d346b7acf847cf28a7211bf4}{irc\_\-dcc\_\-decline} \end{Desc}
\hypertarget{libirc__events_8h_b6000d309e87cfb727dcad0136fcb79f}{
\index{libirc\_\-events.h@{libirc\_\-events.h}!irc\_\-eventcode\_\-callback\_\-t@{irc\_\-eventcode\_\-callback\_\-t}}
\index{irc\_\-eventcode\_\-callback\_\-t@{irc\_\-eventcode\_\-callback\_\-t}!libirc_events.h@{libirc\_\-events.h}}
\subsubsection[irc\_\-eventcode\_\-callback\_\-t]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf irc\_\-eventcode\_\-callback\_\-t})({\bf irc\_\-session\_\-t} $\ast$session, unsigned int event, const char $\ast$origin, const char $\ast$$\ast$params, unsigned int count)}}
\label{libirc__events_8h_b6000d309e87cfb727dcad0136fcb79f}


A numeric event callback. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em session}]the session, which generates an event \item[{\em event}]the numeric code of the event. Useful in case you use a single event handler for several events simultaneously. \item[{\em origin}]the originator of the event. See the note below. \item[{\em params}]a list of event params. Depending on the event nature, it could have zero or more params. The actual number of params is specified in count. None of the params can be NULL, but 'params' pointer itself could be NULL for some events. \item[{\em count}]the total number of params supplied.\end{description}
\end{Desc}
Most times in reply to your actions the IRC server generates numeric callbacks. Most of them are error codes, and some of them mark list start and list stop markers. Every code has its own set of params; for details you can either experiment, or read RFC 1459.

Every event has origin, though the {\em origin\/} variable may be NULL, which means that event origin is unknown. The origin usually looks like nick!host@ircserver, i.e. like tim!home@irc.krasnogorsk.ru. Such origins can not be used in IRC commands, and need to be stripped (i.e. host and server part should be cut off) before using. This can be done either explicitly, by calling \hyperlink{libircclient_8h_217df7c7c7dc5e60678dd14e24e41f03}{irc\_\-target\_\-get\_\-nick()}, or implicitly for all the events - by setting the \hyperlink{libirc__options_8h_0dd67b0a5373a108d86d911fa5741e72}{LIBIRC\_\-OPTION\_\-STRIPNICKS} option with \hyperlink{libircclient_8h_c5d81f651f1441690f3f59c3ddccaa48}{irc\_\-option\_\-set()}. 